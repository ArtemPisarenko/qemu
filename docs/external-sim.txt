= Synchronizing the virtual clock with an external source =

QEMU has a protocol for synchronizing its virtual clock
with the clock of a simulator in which QEMU is embedded
as a component. This options is enabled with the -external_sim
argument, and it should generally be accompanied by the
following additional command line arguments:

-icount 1,sleep=off -rtc clock=vm
  or
-enable-kvm -cpu kvm=off,-tsc,-kvmclock -rtc clock=vm

You can the simulator side of the synchronization protocoal and
an example of its use in the adevs simulation package at

http://sourceforge.net/projects/adevs/

The files src/qemu/qemu_sync.h and src/qemu/qemu_sync.cpp in that
package contain standalone implementations of the synchronization
protocol.
